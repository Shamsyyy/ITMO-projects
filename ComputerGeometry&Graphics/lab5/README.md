# Лабораторная работа 5: Изучение алгоритма настройки автояркости изображения

**Цель работы:** реализовать программу, которая позволяет проводить настройку автояркости изображения в различных цветовых пространствах.

**Описание:**
Программа должна быть написана на C/C++ и не использовать внешние библиотеки.

Аргументы передаются через командную строку:\
**lab5.exe <имя_входного_файла> <имя_выходного_файла> <преобразование> [<смещение> <множитель>],**\
где\
- <преобразование>:
  - 0 - применить указанные значения <смещение> и <множитель> в пространстве RGB к каждому каналу;
  - 1 - применить указанные значения <смещение> и <множитель> в пространстве YCbCr.601 к каналу Y;
  - 2 - автояркость в пространстве RGB: <смещение> и <множитель> вычисляются на основе минимального и максимального значений пикселей;
  - 3 - аналогично 2 в пространстве YCbCr.601;
  - 4 - автояркость в пространстве RGB: <смещение> и <множитель> вычисляются на основе минимального и максимального значений пикселей, после игнорирования 0.39% самых светлых и тёмных пикселей;
  - 5 - аналогично 4 в пространстве YCbCr.601.
- <смещение> - целое число, только для преобразований 0 и 1 в диапазоне [-255..255];
- <множитель> - дробное положительное число, только для преобразований 0 и 1 в диапазоне [1/255..255].

Значение пикселя X изменяется по формуле: **(X - <смещение>) × <множитель>**.\
YCbCr.601 в PC диапазоне: [0, 255].

Входные/выходные данные: PNM P5 или P6 (RGB).

**Частичное решение:** только преобразования 0-3 + корректно выделяется и освобождается память, закрываются файлы, есть обработка ошибок.\
**Полное решение:** все остальное.

Если программе передано значение, которое не поддерживается – следует сообщить об ошибке.

Коды возврата:\
0 - ошибок нет\
1 - произошла ошибка

В поток вывода (printf, cout) выводится только следующая информация: для преобразований 2-5 найденные значения <смещение> и <множитель> в формате: "<смещение> <множитель>".

Сообщения об ошибках выводятся в поток вывода ошибок:\
С: fprintf(stderr, "Error\n");\
C++: std::cerr
  
__________________________________________________________________________________

Данная лабораторная работа выполнена на *C++17* (*g++, CLion, Mac OS*).

Проект состоит из следующих файлов:
- **CMakeLists.txt** - генератор Makefile для проекта;
- **cmake-build-debug** - сгенерированные с помощью CMakeLists.txt файлы, а также входной файл **in.ppm** и выходной файл **out.ppm**;
- **pnm(.h/.cpp)** - header/source класса PNM;
- **main.cpp** - основной исполняемый файл проекта.

Проект уже собран и готов к запуску (предпочтительнее использовать CLion, но можно просто запустить *./lab5*, передав соответствующие аргументы командной строки).

Пример использования: **./lab5 in.ppm out.ppm 2**

Эта команда берёт файл **in.ppm** из папки *cmake-build-debug*, проводит настройку *автояркости изображения в пространстве RGB* и сохраняет в новом файле **out.ppm**.\
Вычисленные значения смещения и множителя:
```
Difference: 0.
Multiple: 1.08974.
```
